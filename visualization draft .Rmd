---
title: "R Notebook"
output:
  pdf_document: default
  html_document:
    df_print: paged
  word_document: default
---


## one patient risk visualization 
```{r}
sample_size <- 1
# simulate patients data
dd <- data.frame(age=sample(30:70,sample_size,rep=TRUE),
                 gender=sample(c("M","F"),sample_size,rep=TRUE),
                 bmi=sample(16:48, sample_size, rep = TRUE),
                 hdl=sample(10:100,sample_size,rep=TRUE),
                 chl=sample(100:400,sample_size,rep=TRUE),
                 sbp=sample(90:200,sample_size,rep=TRUE),
                 isSbpTreated=sample(c(TRUE,FALSE),sample_size,rep=TRUE),
                 smoking=sample(c(TRUE,FALSE),sample_size,rep=TRUE),
                 diabetes=sample(c(TRUE,FALSE),sample_size,rep=TRUE)
                 )

patient1 <- calc_card_10_one( age=dd$"age",
                   gender=dd$"gender",
                   bmi=NA,
                   cholesterol=dd$"chl",
                   hdl=dd$"hdl", sbp=dd$"sbp",
                   is_sbp_under_treatment=dd$"isSbpTreated",
                   smoking_status=dd$"smoking",
                   diabetes_status=dd$"diabetes"
)


library(ggplot2)
library(ggradar)
library(scales)
library(dplyr)
library(janitor)


pp <- as.data.frame(patient1) %>%
  remove_empty_cols()

#Example 1
ggradar(pp,
        axis.labels = colnames(pp)[-1],
        centre.y = -2,
        label.centre.y = TRUE,
        grid.min = 0,
        grid.mid = 8,
        grid.max = 15,
        values.radar = c("0", "8", "15"), 
        grid.line.width = 0.3,
        grid.label.size = 4,
        gridline.label.offset = 0,
        axis.label.size = 3,
        axis.line.colour = "gray40",
        gridline.max.colour = "black",
        plot.legend = TRUE,
        legend.text.size = 10,
        font.radar = "Arial")

           
```


